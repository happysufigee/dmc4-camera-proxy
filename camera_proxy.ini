[CameraProxy]
; Experimental D3D9 camera proxy configuration for RTX Remix.
;
; This branch targets general Direct3D9 titles by caching matrix-like constant uploads
; and emitting fixed-function WORLD / VIEW / PROJECTION state immediately before draw calls.
;
; Combined MVP fallback decomposition is optional and disabled by default.
; When enabled, normal World/View/Projection detection still has priority.

; =============================================================================
; MATRIX REGISTER OVERRIDES
; =============================================================================
; Register overrides are optional and deterministic:
;   - value >= 0 : only that register base is accepted for that matrix type
;   - value  = -1 : classify from all uploaded constant ranges
;
; Typical D3D9 layouts (engine-specific, not guaranteed):
;   c0-c3   World or MVP
;   c4-c7   View
;   c8-c11  Projection

ViewMatrixRegister=-1
ProjMatrixRegister=-1
WorldMatrixRegister=-1

; Optional game-specific profile.
; Empty/None: use structural auto-detection + register overrides.
; MetalGearRising: use fixed mapping first:
;   Projection   c4-c7
;   ViewInverse  c12-c15 (proxy inverts to derive View)
;   World        c16-c19
; Optional tracked combined matrices:
;   ViewProjection c8-c11
;   WorldView      c20-c23
; Barnyard2006: dedicated reconstruction for shader pipeline:
;   vertexViewSpace = modelViews[i] * position
;   gl_Position     = u_Projection * vertexViewSpace
; where u_ViewWorld is view inverse (camera->world).
; The proxy derives View = inverse(u_ViewWorld), and per draw:
;   World = inverse(View) * modelViews[i]
; While Barnyard profile is active structural auto-detection is disabled to avoid
; treating modelViews as pure World or Projection.
GameProfile=

; Barnyard profile register/signature tuning (used when GameProfile=Barnyard2006).
; Defaults are best-guess from observed worldshader.vs layouts; adjust per build.
BarnyardProjectionBase=0
BarnyardViewWorldBase=4
BarnyardModelViewBase=16
BarnyardModelViewCount=64
; Optional shader hash gate in hex (without 0x also accepted). Leave blank to disable.
BarnyardShaderHash=

; =============================================================================
; RUNTIME CHAINING / OUTPUT
; =============================================================================
; 1 = chain to Remix runtime DLL (RemixDllName)
; 0 = chain to system d3d9.dll
UseRemixRuntime=1
RemixDllName=d3d9_remix.dll

; 1 = emit SetTransform(WORLD/VIEW/PROJECTION) immediately before every draw call
; 0 = disable fixed-function transform forwarding
EmitFixedFunctionTransforms=1

; Combined MVP fallback controls (used only when full W/V/P was not resolved).
EnableCombinedMVP=0
CombinedMVPRequireWorld=0
CombinedMVPAssumeIdentityWorld=1
CombinedMVPForceDecomposition=0
CombinedMVPLogDecomposition=0

; =============================================================================
; IMGUI / OVERLAY
; =============================================================================
; UI scaling percentage for the in-game ImGui overlay (50..300).
; Can also be adjusted at runtime in the overlay.
ImGuiScalePercent=100

; Single-key hotkeys (Win32 virtual-key codes) that work even when the ImGui menu is hidden.
; Defaults: F10 toggle menu, F9 pause rendering, F8 emit cached matrices, F7 clear register overrides.
HotkeyToggleMenuVK=121
HotkeyTogglePauseVK=120
HotkeyEmitMatricesVK=119
HotkeyResetMatrixOverridesVK=118

; =============================================================================
; LOGGING
; =============================================================================
EnableLogging=1
LogAllConstants=0

; =============================================================================
; PROJECTION VALIDATION
; =============================================================================
; Field-of-view limits in radians used for strict projection classification.
MinFOV=0.1
MaxFOV=2.5

; =============================================================================
; DETERMINISTIC CLASSIFICATION TOGGLES
; =============================================================================
; Enables structural classification path across constant uploads.
AutoDetectMatrices=1

; Probe a transposed version of a candidate matrix once if direct form fails.
ProbeTransposedLayouts=1

; Probe inverse-view candidates for deterministic view classification.
ProbeInverseView=1

; =============================================================================
; SHADER CONSTANT OVERRIDE EDITOR
; =============================================================================
; Override scope for manual constant edits in the overlay.
; 0 = sticky, 1 = one frame, 2 = N frames.
OverrideScopeMode=0
OverrideNFrames=3

; =============================================================================
; MEMORY SCANNER
; =============================================================================
EnableMemoryScanner=0
MemoryScannerIntervalSec=0
MemoryScannerMaxResults=25
MemoryScannerModule=
